---
title: Deploying Redpanda for production
---

<head>
    <meta name="title" content="Deploying Redpanda for production | Redpanda Docs"/>
    <meta name="description" content="Steps to deploy Redpanda in production."/>
</head>

This section describes how to set up a production cluster of Redpanda.

To initially try out Redpanda, see the Getting Started Guides for
[Linux](/docs/core/quickstart/quick-start-linux), [MacOS](/docs/core/quickstart/quick-start-macos),
[Docker](/docs/core/quickstart/quick-start-docker), or [Kubernetes](/docs/core/quickstart/kubernetes-qs-cloud).

:::note
Before you set up your Redpanda cluster, see [Performance and storage tuning](https://docs.redpanda.com/docs/core/deployment/performance-storage-tuning) for guidelines on cluster creation, such as avoiding out-of-disk outages.
:::

## Prepare infrastructure

For the best performance, provision the hardware according to these hardware requirements:

- XFS for the data directory of Redpanda (/var/lib/redpanda/data)
- A kernel that is at least 3.10.0-514, but a 4.18 or newer kernel is preferred
- Local NVMe, RAID-0 when using multiple disks
- 2GB of memory per core
- TCP ports:
  - `33145` - Internal RPC Port
  - `9092` - Kafka API Port
  - `8082` - Pandaproxy Port
  - `8081` - Schema Registry Port
  - `9644` - Prometheus and HTTP admin port

If you want, you can [use Terraform to deploy Redpanda](/docs/core/deployment/production-deployment-automation).

## Install Redpanda

After the hardware is provisioned, install Redpanda and configure it for production use.

You can also install Redpanda using an [Ansible playbook](/docs/core/deployment/production-deployment-automation).

### Step 1: Install the binary

On Fedora/RedHat Systems:

```bash
curl -1sLf 'https://packages.vectorized.io/nzc4ZYQK3WRGd9sy/redpanda/cfg/setup/bash.rpm.sh' | \
sudo -E bash && sudo yum install redpanda -y
```

On Debian Systems:

```bash
curl -1sLf 'https://packages.vectorized.io/nzc4ZYQK3WRGd9sy/redpanda/cfg/setup/bash.deb.sh' | \
sudo -E bash && sudo apt install redpanda -y
```

### Step 2: Set Redpanda production mode

By default Redpanda is installed in **development** mode, which turns off hardware optimization.

To enable hardware optimization, set Redpanda to run in **production** mode:

```bash
sudo rpk redpanda mode production
```

To tune the hardware, on each node, run:

```bash
sudo rpk redpanda tune all
```

:::note Optional: Benchmark your SSD

On taller machines, Redpanda recommends benchmarking your SSD. This can be done
with `rpk iotune`. You only need to run this once. For reference, a decent
local NVMe SSD should yield around 1GB/s sustained writes.
`rpk iotune` captures SSD wear and tear and gives accurate measurements
of what your hardware is actually capable of delivering. Run this before benchmarking.

If you're on AWS, GCP, or Azure, creating a new instance and upgrading to
an image with a recent Linux Kernel version is often the easiest way to
work around bad devices.

```bash
sudo rpk iotune # takes 10mins
```

:::

### Step 3: Configure and start the root node

Now that the software is installed, you must configure it. The first step is
to set up the root node. The root node starts as a standalone node, and
every other one joins it, forming a cluster along the way.

For the root node, choose 0 as its ID. The `--self` option tells the node which interface address to bind to. Usually you want that to be its private IP.

```bash
sudo rpk config bootstrap --id 0 --self <ip> && \
sudo systemctl start redpanda-tuner redpanda
```

If clients will connect from a different subnet, see [Configuring Listeners](/docs/core/cluster-administration/listener-configuration).


### Step 4: Configure and start the other nodes

For every other node, you have to choose a unique integer ID for it, and let
it know where to reach the root node.

```bash
sudo rpk config bootstrap --id <unique id> \
--self <private ip>                        \
--ips <root node ip> &&                    \
sudo systemctl start redpanda-tuner redpanda
```

### Step 5: Verify the installation

To verify that the cluster is up and running, check the logs:

```bash
journalctl -u redpanda
```

To create a topic, run:

```bash
rpk topic create panda
```

---

## Suggested reading

- Working with schema registry [article](https://redpanda.com/blog/schema_registry/)
